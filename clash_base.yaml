mixed-port: 7890
allow-lan: true
bind-address: '*'
mode: global
log-level: warning
ipv6: false
external-controller: 127.0.0.1:9090
secret: ""
unified-delay: true
tcp-concurrent: true
global-client-fingerprint: chrome
find-process-mode: strict
keep-alive-interval: 30

dns:
  enable: true
  ipv6: false
  listen: 0.0.0.0:5353
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - "*.lan"
    - "*.local"
    - "*.ir"
    - "+.stun.*.*"
    - "+.stun.*.*.*"
    - "localhost.ptlogin2.qq.com"
    - "time.windows.com"
    - "time.nist.gov"
    - "time.apple.com"
  default-nameserver:
    - 8.8.8.8
    - 1.1.1.1
  nameserver:
    - https://8.8.8.8/dns-query
    - https://1.1.1.1/dns-query
    - https://dns.google/dns-query
  proxy-server-nameserver:
    - https://8.8.8.8/dns-query
    - https://1.1.1.1/dns-query
  fallback:
    - https://1.1.1.1/dns-query
    - tls://8.8.8.8:853
    - tls://1.1.1.1:853
  fallback-filter:
    geoip: true
    geoip-code: IR
    ipcidr:
      - 240.0.0.0/4
      - 0.0.0.0/8

proxy-groups:
  - name: AUTO
    type: url-test
    proxies:
      - server1
      - server2
    url: http://www.gstatic.com/generate_204
    interval: 300

  - name: FALLBACK
    type: fallback
    proxies:
      - server1
      - server2
    url: http://www.gstatic.com/generate_204
    interval: 300

  - name: LOAD-BALANCE
    type: load-balance
    proxies:
      - server1
      - server2
    url: http://www.gstatic.com/generate_204
    interval: 300
    strategy: round-robin

proxies:
  - name: server1
    type: vless
    server: your-server-address.com
    port: 443
    uuid: your-uuid-here
    network: ws
    tls: true
    udp: true
    ws-opts:
      path: /
      headers:
        Host: your-server-address.com

  - name: server2
    type: vless
    server: your-second-server.com
    port: 443
    uuid: your-uuid-here
    network: ws
    tls: true
    udp: true
    ws-opts:
      path: /
      headers:
        Host: your-second-server.com

rules:
  - MATCH,LOAD-BALANCE
