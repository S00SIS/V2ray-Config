mixed-port: 7890
socks-port: 7891
port: 7892
allow-lan: true
bind-address: '*'
mode: global
log-level: info
ipv6: false
external-controller: 127.0.0.1:9090
external-ui: ui
secret: ""
unified-delay: true
tcp-concurrent: true
global-client-fingerprint: chrome
find-process-mode: strict
keep-alive-interval: 15

profile:
  store-selected: true
  store-fake-ip: false

dns:
  enable: true
  ipv6: false
  listen: 0.0.0.0:5353
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - '*.local'
    - '*.lan'
    - '*.localhost'
    - '+.stun.*.*'
    - '+.stun.*.*.*'
    - 'time.*'
    - 'time.*.com'
    - 'connectivitycheck.gstatic.com'
    - 'detectportal.firefox.com'
    - 'captive.apple.com'
    - 'www.msftncsi.com'
    - 'cp.cloudflare.com'
  default-nameserver:
    - 178.22.122.100
    - 185.51.200.2
    - 223.5.5.5
    - 119.29.29.29
  nameserver:
    - https://dns.google/dns-query
    - tls://8.8.8.8:853
    - tls://8.8.4.4:853
    - https://cloudflare-dns.com/dns-query
    - tls://1.1.1.1:853
    - tls://1.0.0.1:853
    - https://dns.quad9.net/dns-query
    - tls://9.9.9.9:853
    - tls://149.112.112.112:853
    - https://doh.opendns.com/dns-query
    - tls://208.67.222.222:853
    - https://dns.adguard.com/dns-query
    - tls://94.140.14.14:853

proxies:
  - name: "@DeltaKroneckerGithub"
    type: hysteria2
    server: "yapc-1.adamhayward.co.uk"
    port: 36600
    password: "Yet-Another-Public-Config-1"
    sni: "YAPC-1.afshin.ir"
    skip-cert-verify: true
    udp: true
    obfs: "salamander"
    obfs-password: "Yet-Another-Public-Config-1"
  - name: "@DeltaKroneckerGithub"
    type: hysteria2
    server: "160.16.104.77"
    port: 443
    password: "81206489-BD9D-4916-B1F4-D1554689EEA5"
    sni: "ops-tyo.dexlos.com"
    skip-cert-verify: true
    udp: true
    obfs: "salamander"
    obfs-password: "2g7feub2"
  - name: "@DeltaKroneckerGithub"
    type: hysteria2
    server: "43.153.7.213"
    port: 8443
    password: "dMqSvWDoY0h8wJA4H7ZWJDFLDLF52065"
    sni: "bing.com"
    skip-cert-verify: true
    udp: true
  - name: "@DeltaKroneckerGithub"
    type: hysteria2
    server: "yapc-1.adamhayward.co.uk"
    port: 35200
    password: "Yet-Another-Public-Config-1"
    sni: "YAPC-1.afshin.ir"
    skip-cert-verify: true
    udp: true
    obfs: "salamander"
    obfs-password: "Yet-Another-Public-Config-1"
  - name: "@DeltaKroneckerGithub"
    type: hysteria2
    server: "206.71.158.37"
    port: 35200
    password: "Yet-Another-Public-Config-1"
    sni: "YAPC-1.afshin.ir"
    skip-cert-verify: true
    udp: true
    obfs: "salamander"
    obfs-password: "Yet-Another-Public-Config-1"
  - name: "@DeltaKroneckerGithub"
    type: hysteria2
    server: "160.16.143.152"
    port: 443
    password: "4E8F0CEC-DF1E-4876-8897-56B7CED64D05"
    sni: "ops-tyo.dexlos.com"
    skip-cert-verify: true
    udp: true
    obfs: "salamander"
    obfs-password: "2g7feub2"
  - name: "@DeltaKroneckerGithub"
    type: hysteria2
    server: "yapc-1.adamhayward.co.uk"
    port: 36300
    password: "Yet-Another-Public-Config-1"
    sni: "YAPC-1.afshin.ir"
    skip-cert-verify: true
    udp: true
    obfs: "salamander"
    obfs-password: "Yet-Another-Public-Config-1"
  - name: "@DeltaKroneckerGithub"
    type: hysteria2
    server: "206.71.158.37"
    port: 35000
    password: "Yet-Another-Public-Config-1"
    sni: "YAPC-1.afshin.ir"
    skip-cert-verify: true
    udp: true
    obfs: "salamander"
    obfs-password: "Yet-Another-Public-Config-1"
  - name: "@DeltaKroneckerGithub"
    type: hysteria2
    server: "130.61.50.75"
    port: 6443
    password: "zhangyang"
    sni: "130.61.50.75"
    skip-cert-verify: true
    udp: true
  - name: "@DeltaKroneckerGithub"
    type: hysteria2
    server: "206.71.158.37"
    port: 36400
    password: "Yet-Another-Public-Config-1"
    sni: "YAPC-1.afshin.ir"
    skip-cert-verify: true
    udp: true
    obfs: "salamander"
    obfs-password: "Yet-Another-Public-Config-1"
  - name: "@DeltaKroneckerGithub"
    type: hysteria2
    server: "dd.openaccessnode.com"
    port: 989
    password: "75193bef8d8fe82341e02dd083dc1399"
    sni: "dd.ircybersec.org"
    skip-cert-verify: true
    udp: true
    obfs: "salamander"
    obfs-password: "@JavidnamanIran-Javid-SHAH-King-Reza-Pahlavi"

proxy-groups:
  # ── Top-level selector ────────────────────────────────────────────────────
  - name: "PROXY-BEST"
    type: select
    proxies:
      - "SCEN-OPEN"
      - "SCEN-CDN"
      - "UDP-BEST"
      - "FAST-ALL"
      - "LB-ALL"
      - "MANUAL"
      - DIRECT

  # ── Scenario groups ───────────────────────────────────────────────────────
  - name: "SCEN-OPEN"
    type: fallback
    url: http://www.gstatic.com/generate_204
    interval: 300
    lazy: true
    proxies:
      - "LB-ALL"
      - "FAST-ALL"

  - name: "SCEN-CDN"
    type: fallback
    url: http://cp.cloudflare.com/generate_204
    interval: 300
    lazy: true
    proxies:
      - "LB-CDN"
      - "FAST-CDN"

  # ── Load-balance groups ───────────────────────────────────────────────────
  - name: "LB-ALL"
    type: load-balance
    strategy: consistent-hashing
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 150
    lazy: true
    proxies:
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"

  - name: "LB-CDN"
    type: load-balance
    strategy: round-robin
    url: http://cp.cloudflare.com/generate_204
    interval: 300
    tolerance: 150
    lazy: true
    proxies:
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"

  # ── Fastest-proxy groups ──────────────────────────────────────────────────
  - name: "FAST-ALL"
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    lazy: true
    proxies:
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"

  - name: "FAST-CDN"
    type: url-test
    url: http://cp.cloudflare.com/generate_204
    interval: 300
    tolerance: 50
    lazy: true
    proxies:
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"

  # ── UDP group ─────────────────────────────────────────────────────────────
  - name: "UDP-BEST"
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 180
    tolerance: 50
    lazy: true
    proxies:
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"

  # ── Manual selector ───────────────────────────────────────────────────────
  - name: "MANUAL"
    type: select
    proxies:
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"
      - "@DeltaKroneckerGithub"

rules:
  - MATCH,PROXY-BEST
